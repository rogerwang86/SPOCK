PART
{
	name = RS_25_N
	module = Part
	author = Chris Adderley (Nertea)

	MODEL
	{
		model = ReStock/Assets/Engine/restock-engine-vector-1
	}
	scale = 1
	rescaleFactor = 1

	node_stack_top = 0.0,0.0,0.0 , 0.0, 1.0, 0.0, 1
	node_stack_bottom = 0.0,-1.6,0.0 , 0.0, -1.0, 0.0, 1
	node_attach = 0.0,0,0.0 , 0.0, 1.0, 0.0, 1
	mass = 1.2
	// heatConductivity = 0.06 // half default
	emissiveConstant = 0.8 // engine nozzles are good at radiating.
	dragModelType = default
	maximum_drag = 0.2
	minimum_drag = 0.2
	angularDrag = 2
	breakingForce = 400
	breakingTorque = 400
	crashTolerance = 22
	maxTemp = 2000 // = 3600
	TechRequired = veryHeavyRocketry
	entryCost = 250000
	cost = 27000
	category = Propulsion
	subcategory = 0
	title = RS-25N
	manufacturer = Olympus Spaceflight Emporium
	description = Not yet.
	attachRules = 1,1,1,1,0
	bulkheadProfiles = srf, size1
	tags = shuttle sts ov pathfinder

	DRAG_CUBE
	{
		cube = 0, 2.312,0.7586,1.181, 2.312,0.7602,1.243, 1.2,0.6938,1.333, 1.2,0.4948,1.383, 2.321,0.7617,1.215, 2.321,0.7611,1.455, 0,-0.4475,-5.96E-08, 1.255,2.355,1.255
		cube = 1, 3.732,0.7707,1.334, 3.732,0.7707,1.345, 4.8,0.854,2.518, 4.8,0.7634,2.266, 3.72,0.7705,1.334, 3.72,0.7708,1.324, -3.576E-07,-0.4541,0, 2.5,2.368,2.5
		cube = 2, 3.588,0.7335,1.493, 3.587,0.7287,1.535, 4.8,0.6318,2.499, 4.8,0.4139,2.215, 3.565,0.7305,1.366, 3.564,0.7263,1.567, 0,-0.4195,0, 2.5,2.299,2.5
		cube = 3, 1.904,0.719,0.9408, 1.902,0.7357,0.8684, 4.8,0.3,2.544, 4.8,0.3,2.115, 1.938,0.6766,0.9222, 1.94,0.7415,0.7234, 3.576E-07,-0.4418,-2.384E-07, 2.5,2.344,2.5
	}	
	EFFECTS
	{
		engage
		{
			AUDIO
			{
				channel = Ship
				clip = sound_vent_soft
				volume = 1.0
				pitch = 2.0
				loop = false
			}
		}
		flameout
		{
			AUDIO
			{
				channel = Ship
				clip = sound_explosion_low
				volume = 1.0
				pitch = 2.0
				loop = false
			}
		}
		fx-vector-running
		{
			AUDIO
			{
				channel = Ship
				clip = sound_rocket_hard
				volume = 0.0 0.0
				volume = 0.01 0.4
				volume = 1.0 1.0
				pitch = 0.0 0.2
				pitch = 0.01 0.6
				pitch = 1.0 1.8
				loop = true
			}
			MODEL_MULTI_PARTICLE
			{
				name = core
				modelName = ReStock/FX/restock-fx-vector-core-1
				transformName = fxTransformCore
				emission = 0.0 0.0
				emission = 0.01 0.1
				emission = 0.075 0.25
				emission = 1.0 1.0
				speed = 0.0 0.35
				speed = 1.0 1.0
			}
			MODEL_MULTI_PARTICLE
			{
				name = plume
				modelName = ReStock/FX/restock-fx-vector-plume-1
				transformName = fxTransformPlume
				emission = 0.0 0.0
				emission = 0.01 0.1
				emission = 0.075 0.25
				emission = 1.0 1.0
				speed = 0.0 0.35
				speed = 1.0 1.0
			}
			PREFAB_PARTICLE
			{
				prefabName = fx_smokeTrail_light
				transformName = smokePoint
				emission = 0.0 0.0
				emission = 0.05 0.0
				emission = 0.075 0.25
				emission = 1.0 1.25
				speed = 0.0 0.25
				speed = 1.0 1.0
				localOffset = 0, 0, 0
			}
		}
	}
	MODULE
	{
		name = ModulePartVariants
		baseVariant = Size1
		VARIANT
		{
			name = Size1
			displayName = #LOC_Restock_variant-engine_size1
			primaryColor = #999999
			secondaryColor = #000000
			GAMEOBJECTS
			{
				Var_25 = false
				Var_25_Boat = false
				Var_125 = true
				Var_Compact = false
				Var_UpperGimbals = false
				Var_LowerGimbals = false
				Fairing = true
				Fairing25 = false
				Fairing25_Boat = false
				FairingCompact = false
			}
			NODES
			{
				node_stack_top = 0.0,0.0,0.0 , 0.0, 1.0, 0.0, 1
			}
		}
		VARIANT
		{
			name = Size2
			displayName = #LOC_Restock_variant-engine_size2
			primaryColor = #000000
			secondaryColor = #999999
			GAMEOBJECTS
			{
				Var_25 = true
				Var_25_Boat = false
				Var_125 = false
				Var_Compact = false
				Var_UpperGimbals = true
				Var_LowerGimbals = true
				Fairing = false
				Fairing25 = true
				Fairing25_Boat = false
				FairingCompact = false
			}
			NODES
			{
				node_stack_top = 0.0,0.634,0.0 , 0.0, 1.0, 0.0, 2
			}
		}
		VARIANT
		{
			name = Boattail
			displayName = #LOC_Restock_variant-engine_boattail
			primaryColor = #ffffff
			secondaryColor = #f69449
			GAMEOBJECTS
			{
			Var_25 = false
			Var_25_Boat = true
			Var_125 = false
			Var_Compact = false
			Var_UpperGimbals = true
			Var_LowerGimbals = true
			Fairing = false
			Fairing25 = false
			Fairing25_Boat = false
			FairingCompact = false
			}
			NODES
			{
			node_stack_top = 0.0,0.634,0.0 , 0.0, 1.0, 0.0, 2
			}
		}
		VARIANT
		{
			name = Compact
			displayName = #LOC_Restock_variant-engine_compact
			primaryColor = #999999
			secondaryColor = #555555
			GAMEOBJECTS
			{
				Var_25 = false
				Var_25_Boat = false
				Var_125 = false
				Var_Compact = true
				Var_UpperGimbals = true
				Var_LowerGimbals = true
				Fairing = false
				Fairing25 = false
				Fairing25_Boat = false
				FairingCompact = true
			}
			NODES
			{
				node_stack_top = 0.0,0.422,0.0 , 0.0, 1.0, 0.0, 1
			}
		}
	}
	MODULE
	{
		name = MultiModeEngine
		primaryEngineID = RS25Naux
		secondaryEngineID = RS25N
		primaryEngineModeDisplayName = LH2/Oxidizer
		secondaryEngineModeDisplayName = LH2
	}
	MODULE
	{
		name = ModuleEnginesFX
		engineID = RS25Naux
		runningEffectName = fx-vector-running
		thrustVectorTransformName = thrustTransform
		exhaustDamage = True
		ignitionThreshold = 0.1
		minThrust = 0
		maxThrust = 626
		heatProduction = 192
		fxOffset = 0, 0, 0
		exhaustDamageDistanceOffset = 1.5
		PROPELLANT
		{
			name = LqdHydrogen
			ratio = 1.5
			DrawGauge = True
		}
		PROPELLANT
		{
			name = Oxidizer
			ratio = 0.1
		}
		atmosphereCurve
		{
			key = 0 802
			key = 1 598
			key = 12 0.001
		}
	}
	MODULE
	{
		name = ModuleEnginesFX
		engineID = RS25N
		runningEffectName = fx-vector-running
		thrustVectorTransformName = thrustTransform
		exhaustDamage = True
		ignitionThreshold = 0.1
		minThrust = 0
		maxThrust = 250
		heatProduction = 192
		fxOffset = 0, 0, 0
		exhaustDamageDistanceOffset = 1.5
		PROPELLANT
		{
			name = LqdHydrogen
			ratio = 1
			DrawGauge = True
		}
		atmosphereCurve
		{
			key = 0 1005
			key = 1 620
			key = 12 0.001
			//key = 0 2406
			//key = 1 1196
			//key = 12 0.001
		}
	}
	MODULE
	{
		name = ModuleAlternator
		RESOURCE
		{
			name = ElectricCharge
			rate = 3.0
		}
	}
	MODULE
	{
		name = ModuleJettison
		jettisonName = Fairing,Fairing25,FairingCompact,Fairing25_Boat
		useMultipleDragCubes = false
		bottomNodeName = bottom
		isFairing = True
		jettisonedObjectMass = 0.1
		jettisonForce = 5
		jettisonDirection = 0 0 1
	}
	MODULE
	{
		name = ModuleGimbal
		gimbalTransformName = B_Gimbal
		gimbalRange = 4
		gimbalResponseSpeed = 8
		useGimbalResponseSpeed = true
	}
	MODULE
	{
		name = FXModuleLookAtConstraint
		// Ringed
		CONSTRAINLOOKFX
		{
			targetName = CylBot017
			rotatorsName = CylTop017
		}
		CONSTRAINLOOKFX
		{
			targetName = CylBot018
			rotatorsName = CylTop018
		}
		CONSTRAINLOOKFX
		{
			targetName = CylBot019
			rotatorsName = CylTop019
		}
		CONSTRAINLOOKFX
		{
			targetName = CylBot020
			rotatorsName = CylTop020
		}
		CONSTRAINLOOKFX
		{
			targetName = CylTop017
			rotatorsName = CylBot017
		}
		CONSTRAINLOOKFX
		{
			targetName = CylTop018
			rotatorsName = CylBot018
		}
		CONSTRAINLOOKFX
		{
			targetName = CylTop019
			rotatorsName = CylBot019
		}
		CONSTRAINLOOKFX
		{
			targetName = CylTop020
			rotatorsName = CylBot020
		}
	}
	MODULE
	{
		name = ModuleSurfaceFX
		thrustProviderModuleIndex = 0
		fxMax = 0.9
		maxDistance = 75
		falloff = 1.75
		thrustTransformName = thrustTransform
	}
	MODULE
	{
		name = FXModuleThrottleEffects
		fxModuleNames = heatColor
		responseSpeed = 1.0
		dependOnEngineState = True
		dependOnThrottle = True
	}
	MODULE
	{
		name = FXModuleThrottleEffects
		fxModuleNames = throttleColor
		responseSpeed = 1.0
		dependOnEngineState = True
		dependOnThrottle = True
	}
	MODULE
	{
		name = ModuleColorChanger
		moduleID = heatColor
		animRate = 0.05
		shaderProperty = _EmissiveColor
		excludedRenderer = EngineCore
		toggleInEditor = false
		toggleInFlight = false
		redCurve
		{
			key = 0 0 1 1
			key = 1 1 1 1
		}
		greenCurve
		{
			key = 0 0 1 1
			key = 1 1 1 1
		}
		blueCurve
		{
			key = 0 0 1 1
			key = 1 1 1 1
		}
		alphaCurve
		{
			key = 0 0 1 1
			key = 1 1 1 1
		}
	}
	MODULE
	{
		name = ModuleColorChanger
		moduleID = throttleColor
		animRate = 1
		shaderProperty = _TintColor
		includedRenderer = EngineCore
		toggleInEditor = false
		toggleInFlight = false
		redCurve
		{
			key = 0 1
			key = 1 1
		}
		greenCurve
		{
			key = 0 1
			key = 1 1
		}
		blueCurve
		{
			key = 0 1
			key = 1 1
		}
		alphaCurve
		{
			key = 0 0
			key = 1 1
		}
	}
}
